@model FreelanceJobBoard.Presentation.ViewComponents.UserProfileViewModel

@if (User.Identity?.IsAuthenticated == true)
{
    <!--begin::User menu-->
    <div class="cursor-pointer symbol symbol-35px" data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end">
        @if (Model.HasProfilePhoto)
        {
            <img src="@Model.ProfileImageUrl" alt="Profile Photo" class="w-35px h-35px rounded-circle object-fit-cover" />
        }
        else
        {
            <div class="symbol-label bg-primary text-white fw-bold">
                @Model.UserInitial
            </div>
        }
    </div>
    <!--end::User menu-->
    
    <!--begin::User account menu-->
    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-color fw-semibold py-4 fs-6 w-275px" data-kt-menu="true">
        <!--begin::Menu item-->
        <div class="menu-item px-3">
            <div class="menu-content d-flex align-items-center px-3">
                <!--begin::Avatar-->
                <div class="symbol symbol-50px me-5">
                    @if (Model.HasProfilePhoto)
                    {
                        <img src="@Model.ProfileImageUrl" alt="Profile Photo" class="w-50px h-50px rounded-circle object-fit-cover" />
                    }
                    else
                    {
                        <div class="symbol-label bg-primary text-white fw-bold">
                            @Model.UserInitial
                        </div>
                    }
                </div>
                <!--end::Avatar-->
                <!--begin::Username-->
                <div class="d-flex flex-column">
                    <div class="fw-bold d-flex align-items-center fs-5">
                        @Model.FullName
                        <span class="badge badge-light-success fw-bold fs-8 px-2 py-1 ms-2">
                            @(Model.Role ?? "User")
                        </span>
                    </div>
                    <a href="#" class="fw-semibold text-muted text-hover-primary fs-7">
                        @Model.Email
                    </a>
                </div>
                <!--end::Username-->
            </div>
        </div>
        <!--end::Menu item-->
        
        <!--begin::Menu separator-->
        <div class="separator my-2"></div>
        <!--end::Menu separator-->
        
        <!--begin::Menu item-->
        <div class="menu-item px-5">
            <a asp-controller="Profile" asp-action="Index" class="menu-link px-5">
                <i class="ki-duotone ki-profile-circle fs-6 me-2">
                    <span class="path1"></span>
                    <span class="path2"></span>
                    <span class="path3"></span>
                </i>My Profile
            </a>
        </div>
        <!--end::Menu item-->
        
        <!--begin::Menu item-->
        <div class="menu-item px-5">
            <a asp-controller="Profile" asp-action="Security" class="menu-link px-5">
                <i class="ki-duotone ki-shield-tick fs-6 me-2">
                    <span class="path1"></span>
                    <span class="path2"></span>
                </i>Security Settings
            </a>
        </div>
        <!--end::Menu item-->
        
        <!--begin::Menu separator-->
        <div class="separator my-2"></div>
        <!--end::Menu separator-->
        
        <!--begin::Menu item-->
        <div class="menu-item px-5">
            <form asp-controller="Auth" asp-action="Logout" method="post" class="d-inline w-100">
                @Html.AntiForgeryToken()
                <button type="submit" class="menu-link px-5 btn btn-link text-start text-decoration-none p-0 border-0 bg-transparent w-100" style="color: inherit;">
                    <i class="ki-duotone ki-exit-right fs-6 me-2">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>Sign Out
                </button>
            </form>
        </div>
        <!--end::Menu item-->
    </div>
    <!--end::User account menu-->
}