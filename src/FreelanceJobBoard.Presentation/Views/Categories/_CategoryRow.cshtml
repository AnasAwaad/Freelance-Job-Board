@model CategoryViewModel

@if (Model != null)
{
    <tr>
        <td class="text-center">
            <a asp-action="Details" asp-route-id="@Model.Id" class="text-gray-800 text-hover-primary fw-bold">
                @(Model.Name ?? "N/A")
            </a>
        </td>
        <td>
            @{
                var description = Model.Description ?? "";
                var displayDescription = description.Length > 50 ? $"{description.Substring(0, 50)}..." : description;
            }
            <span class="text-gray-600">@(string.IsNullOrEmpty(displayDescription) ? "No description" : displayDescription)</span>
        </td>
        <td class="js-status">
            <span class="badge badge-light-@(!Model.IsActive ? "danger" : "success")">
                @(!Model.IsActive ? "Inactive" : "Active")
            </span>
        </td>
        <td class="text-center">
            <div class="d-flex justify-content-center gap-1">
                <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-icon btn-light-primary btn-sm"
                   data-bs-toggle="tooltip" title="View Details">
                    <i class="ki-duotone ki-eye fs-4">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                    </i>
                </a>
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-icon btn-light-warning btn-sm"
                   data-bs-toggle="tooltip" title="Edit Category">
                    <i class="ki-duotone ki-pencil fs-4">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                </a>
                <a href="javascript:;" 
                   class="btn btn-icon btn-light-@(Model.IsActive ? "danger" : "success") btn-sm js-render-modal" 
                   data-url="/Categories/UpdateModal/@Model.Id"
                   data-title="Update Category"
                   data-bs-toggle="tooltip" 
                   title="Edit (Modal)">
                    <i class="ki-duotone ki-notepad-edit fs-4">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                </a>
                <button type="button" 
                        class="btn btn-icon btn-light-@(Model.IsActive ? "danger" : "success") btn-sm js-change-status" 
                        data-status="@Model.IsActive.ToString().ToLower()"
                        data-url="/Categories/ChangeStatus/@Model.Id"
                        data-bs-toggle="tooltip" 
                        title="@(Model.IsActive ? "Deactivate" : "Activate")">
                    <i class="ki-duotone ki-@(Model.IsActive ? "cross" : "check") fs-4">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                </button>
            </div>
        </td>
    </tr>
}
else
{
    <tr>
        <td colspan="4" class="text-center text-muted">
            <i class="ki-duotone ki-information-4 fs-2">
                <span class="path1"></span>
                <span class="path2"></span>
                <span class="path3"></span>
            </i>
            Invalid category data
        </td>
    </tr>
}